# Shared Login Steps
# Reusable login flow that can be included in other tests

appId: three.two.bit.phonemanager.dev
name: Shared Login Steps

---
# Clear app state
- clearState

# Launch the app
- launchApp

# Wait for login screen to load
- extendedWaitUntil:
    visible:
      id: "login_screen"
    timeout: 10000

# Wait for email input to be visible
- extendedWaitUntil:
    visible:
      id: "email_input"
    timeout: 5000

# Enter credentials
- tapOn:
    id: "email_input"

- inputText: ${TEST_USER_EMAIL}

- tapOn:
    id: "password_input"

- inputText: ${TEST_USER_PASSWORD}

# Submit
- tapOn:
    id: "sign_in_button"

# Wait for home screen
- extendedWaitUntil:
    visible:
      id: "home_screen"
    timeout: 15000
