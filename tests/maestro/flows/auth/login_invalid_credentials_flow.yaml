# Registration Validation Flow
# Tests that registration form displays correctly

appId: three.two.bit.phonemanager.dev
name: Registration Validation Flow

---
# Launch the app with clearState and permissions
- launchApp:
    appId: "three.two.bit.phonemanager.dev"
    clearState: true
    stopApp: true
    permissions:
      all: allow

# Wait for app to load
- waitForAnimationToEnd

# Wait for registration screen
- extendedWaitUntil:
    visible:
      text: "Device Registration"
    timeout: 30000

# Verify registration form elements are visible
- assertVisible:
    text: "Display Name"

- assertVisible:
    text: "Group ID"

# Take screenshot of empty form
- takeScreenshot: "registration_empty_form"

# Enter only display name
- tapOn:
    text: "Display Name"

- inputText: "TestDevice"

- hideKeyboard

- takeScreenshot: "registration_partial_form"

# Verify we're still on registration screen (can't submit with partial data)
- assertVisible:
    text: "Device Registration"
