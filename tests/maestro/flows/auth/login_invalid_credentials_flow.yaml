# Login with Invalid Credentials Flow
# Tests error handling for invalid login attempts

appId: three.two.bit.phonemanager.dev
name: Login Invalid Credentials Flow

---
# Clear app state
- clearState

# Launch the app
- launchApp

# Wait for login screen
- extendedWaitUntil:
    visible:
      id: "login_screen"
    timeout: 10000

# Wait for email input
- extendedWaitUntil:
    visible:
      id: "email_input"
    timeout: 5000

# Enter invalid email
- tapOn:
    id: "email_input"

- inputText: "invalid@example.com"

# Enter wrong password
- tapOn:
    id: "password_input"

- inputText: "WrongPassword123"

# Submit login
- tapOn:
    id: "sign_in_button"

# Wait a moment for response
- waitForAnimationToEnd

# Verify we're still on login screen (error shown via Snackbar)
- assertVisible:
    id: "sign_in_button"

# Take screenshot of error state
- takeScreenshot: "login_invalid_credentials"
