# Registration Validation Flow
# Tests validation of empty device registration fields

appId: three.two.bit.phonemanager.dev
name: Registration Validation Flow

---
# Clear app state
- clearState

# Launch the app
- launchApp

# Wait for registration screen
- extendedWaitUntil:
    visible:
      id: "registration_screen"
    timeout: 10000

# Verify registration form elements are visible
- assertVisible:
    id: "display_name_input"

- assertVisible:
    id: "group_id_input"

# Try to submit without entering anything
# The register button should be disabled when form is invalid
- takeScreenshot: "registration_empty_form"

# Enter only display name (group ID required)
- tapOn:
    id: "display_name_input"

- inputText: "TestDevice"

- hideKeyboard

- takeScreenshot: "registration_partial_form"

# Now enter group ID
- tapOn:
    id: "group_id_input"

- inputText: "test-group"

- hideKeyboard

# Now the form should be valid
- takeScreenshot: "registration_complete_form"

# Verify we're still on registration screen
- assertVisible:
    id: "registration_screen"
