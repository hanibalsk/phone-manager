# Logout Flow Test
# Tests user logout from the app

appId: three.two.bit.phonemanager.dev
name: User Logout Flow

---
# Include login steps first
- runFlow: "../shared/login_steps.yaml"

# Navigate to settings
- tapOn:
    id: "settings_button"

# Wait for settings screen
- extendedWaitUntil:
    visible:
      id: "settings_screen"
    timeout: 5000

# Scroll to logout button
- scroll

# Tap logout
- tapOn:
    id: "logout_button"

# Wait for confirmation dialog
- extendedWaitUntil:
    visible:
      id: "confirm_dialog"
    timeout: 3000

# Confirm logout
- tapOn:
    id: "confirm_button"

# Verify we're back on login screen
- extendedWaitUntil:
    visible:
      id: "email_input"
    timeout: 10000

- assertVisible:
    id: "sign_in_button"

# Take screenshot of logged out state
- takeScreenshot: "logout_success"
