# Login Flow Test
# Tests basic user login functionality

appId: three.two.bit.phonemanager.dev
name: Login Flow

---
# Clear app state for clean test
- clearState

# Launch the app
- launchApp

# Wait for login screen to appear
- extendedWaitUntil:
    visible:
      id: "login_screen"
    timeout: 10000

# Wait for email input
- extendedWaitUntil:
    visible:
      id: "email_input"
    timeout: 5000

# Verify login screen elements
- assertVisible:
    id: "email_input"

- assertVisible:
    id: "password_input"

- assertVisible:
    id: "sign_in_button"

# Take screenshot of login screen
- takeScreenshot: "login_screen"

# Enter email
- tapOn:
    id: "email_input"

- inputText: ${TEST_USER_EMAIL}

# Enter password
- tapOn:
    id: "password_input"

- inputText: ${TEST_USER_PASSWORD}

# Submit login
- tapOn:
    id: "sign_in_button"

# Wait for home screen (successful login)
- extendedWaitUntil:
    visible:
      id: "home_screen"
    timeout: 15000

# Take screenshot of successful login
- takeScreenshot: "login_success"
